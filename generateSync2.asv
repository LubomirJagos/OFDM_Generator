function sync = generateSync2(ifftLen,occupiedCarriers,pilotCarriers)
    carriers = [];
    for k = 1:length(occupiedCarriers)
        if (occupiedCarriers(k))
        carriers = [carriers occupiedCarriers(k)];
    end
    for k = 1:length(pilotCarriers)
        carriers = [carriers pilotCarriers(k)];
    end
    carriers = sort([carriers]);
    seq = randsrc(1,length(carriers));
    
    sync = zeros(1,ifftLen);
    sync(carriers) = seq;
    sync(1) = 0+0i;
    sync = ifftshift(sync);
end