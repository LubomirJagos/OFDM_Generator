samplesPerBit = 20;
x = [
    0*ones(1,samplesPerBit)    ...
    1*ones(1,samplesPerBit)    ...
    2*ones(1,samplesPerBit)    ...
    3*ones(1,samplesPerBit)    ...
    4*ones(1,samplesPerBit)    ...
    3*ones(1,samplesPerBit)    ...
    2*ones(1,samplesPerBit)    ...
    1*ones(1,samplesPerBit)    ...
    0*ones(1,samplesPerBit)    ...
    ];
    
y = ammod(x, 3.7e6, 20e6);
plot(y, '-x');

